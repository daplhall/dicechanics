@startuml core
top to bottom direction
package "core"{
    class DefaultCollection{
    }
    interface "Collection" as collection {
        imutable container of bags, used for combinatorial calulations\nrelated to Group-Group interaction
        bags are created seperately
        + prepare() -> Iterable[(Group, count)]
    }
    class DefaultGroup{
    }
    interface "Group" as group{
        imutable container of mappings, used for\nspecific combinatorial calulations
        mappings are created seperatly
        + prepare() -> Iterable[(Mapping, GroupCount)]
        + prepareSlice() -> Slice
        + __getitem__(Python.slice):
    }
    interface "Mapping" as mapping{
        Basic backend type for combinatorial calculations,\nif the methods are defined then its good for use.
        + items()
        + keys()
        + values()
    }
    Class "Slice" as sliceClass
    interface "Slice" as slice{
        +Slice(mask: Sequence[int])
        +Slice(mask: python slice)
        +next()
        +prev()
    }
    interface GroupCombinations {
        calculate(Group, operation) 
    }
    class RegularCombinations{
        
    }
    class SelectiveCombinations{
        
    }
    Interface GroupCountFactory
    Interface GroupCount{
        <<Iterable>> -> int
    }
    class GroupCountInt
    class GroupCountMapping
}

DefaultCollection ..|> collection
collection --> group
DefaultGroup ..|> group
group --> mapping
group -left-> slice: for selective
sliceClass .right.|> slice
GroupCombinations --> group
RegularCombinations ..|> GroupCombinations
SelectiveCombinations ..|> GroupCombinations
group -right-> GroupCountFactory 
GroupCountFactory -->GroupCount 
GroupCountInt .left.|> GroupCount
GroupCountMapping .right.|> GroupCount
GroupCountFactory ..>  GroupCountInt
GroupCountFactory ..> GroupCountMapping
@enduml